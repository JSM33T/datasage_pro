<ng-container *ngIf="token(); else loginScreen">
	<main class="page-wrapper">
		<nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm px-4">
			<div class="container-fluid">
				<span class="navbar-brand fs-5 fw-medium">DocSage</span>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse justify-content-end" id="mainNavbar">
					<ul class="navbar-nav">
						<li class="nav-item"><a class="nav-link" routerLink="documents"><i
									class="bi bi-file-earmark-text"></i> Document</a></li>
						<li class="nav-item"><a class="nav-link" routerLink="chat"><i class="bi bi-chat"></i> Chat</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>
		<div class="container py-4">
			<router-outlet></router-outlet>
		</div>
	</main>
</ng-container>

<ng-template #loginScreen>
	<div class="d-flex flex-column justify-content-center align-items-center vh-100 bg-light text-center px-3">
		<h2 class="mb-4">Enter Access Key</h2>
		<input class="form-control mb-3 text-center" type="password" [value]="password()"
			(input)="password.set($any($event.target).value)" (keydown.enter)="login()" placeholder="Password"
			style="max-width: 320px;" />
		<button class="btn btn-primary" (click)="login()" [disabled]="loading()">Login</button>
		<div class="text-danger mt-3" *ngIf="error()">{{ error() }}</div>
	</div>
</ng-template>